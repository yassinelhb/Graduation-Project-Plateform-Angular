<div class="card">
  <div class="card-body">
      <h4 class="card-title">Add Internship Agreement</h4>
      <form class="forms-sample ng-untouched ng-pristine ng-valid" [formGroup]="internshipForm">
      <div class="form-group">
        <label for="date" [class.text-danger]="(endDate.invalid && endDate.touched) || (startDate.invalid && startDate.touched)">Date</label>
        <div class="row">
          <div class="col-sm-6">
            <input class="form-control" id="date" type="date"  [class.border-danger]="startDate.invalid && startDate.touched" formControlName="startDate">
          </div>
          <div class="col-sm-6">
            <input class="form-control" type="date" [class.border-danger]="endDate.invalid && endDate.touched" formControlName="endDate">
          </div>
        </div>
        <div class="invalid-feedback" *ngIf="(endDate.invalid && endDate.touched) || (startDate.invalid && startDate.touched)">
          <span class="text-small" *ngIf="endDate.errors?.required || startDate.errors?.required">The Date is required. </span>
          <span class="text-small" *ngIf="endDate.hasError('invalid') || startDate.hasError('invalid')">Please provide a valid date. </span>

        </div>
      </div>
      <div  class="form-group" formGroupName="entreprise">
        <label for="entreprise" [class.text-danger]="entreprise.invalid && entreprise.touched">Entreprise</label>
        <select class="form-control" id="entreprise" [class.border-danger]="entreprise.invalid && entreprise.touched" formControlName="id" #es>
          <option *ngFor="let entreprise of entreprises" [value]="entreprise.id">{{ entreprise.nameEntreprise }}</option>
        </select>
        <div class="invalid-feedback" *ngIf="entreprise.invalid && entreprise.touched">
          <span class="text-small">The entreprise is required. </span>
        </div>
      </div>
      <div class="form-group">
      </div>
      <button class="btn btn-primary mr-2" type="submit" *ngIf="edit; else add" (click)="editInternship()" [disabled]="internshipForm.invalid">Update</button>
      <button class="btn btn-light" (click)="cancel()" *ngIf="edit" >Cancel</button>
      <ng-template #add>
        <button class="btn btn-primary mr-2" type="submit" (click)="addInternship()" [disabled]="internshipForm.invalid">Submit</button>
      </ng-template>
    </form>
      <ngx-spinner bdColor="rgba(255,255,255,0.1)">
        <div class="spinner-grow text-primary" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-info" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-primary" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </ngx-spinner>
  </div>
</div>

